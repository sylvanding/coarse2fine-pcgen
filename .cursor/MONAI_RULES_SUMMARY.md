# MONAI Generative Models Cursor Rules ä½¿ç”¨æŒ‡å—

## ğŸ“š å·²åˆ›å»ºçš„Cursor Rules

ä¸º `GenerativeModels/` æ–‡ä»¶å¤¹å’Œ `monai_diffusion/` ç›®å½•åˆ›å»ºäº†ä¸‰ä¸ªä¸“é—¨çš„Cursor Rulesï¼š

### 1. `monai-generative.mdc` - å®Œæ•´APIå‚è€ƒ
**è·¯å¾„**: `.cursor/rules/monai-generative.mdc`

**å†…å®¹æ¦‚è§ˆ**:
- âœ… MONAI Generativeåº“ç®€ä»‹å’Œæ ¸å¿ƒåŠŸèƒ½
- âœ… ç½‘ç»œæ¨¡å—è¯¦è§£ (DiffusionModelUNet, AutoencoderKL, VQVAEç­‰)
- âœ… è°ƒåº¦å™¨è¯¦è§£ (DDPMScheduler, DDIMScheduler, PNDMScheduler)
- âœ… æ¨ç†å™¨è¯¦è§£ (DiffusionInferer, LatentDiffusionInferer)
- âœ… æŸå¤±å‡½æ•°å’Œè¯„ä¼°æŒ‡æ ‡
- âœ… ä¸‰ä¸ªå®Œæ•´ä½¿ç”¨åœºæ™¯ç¤ºä¾‹:
  - åœºæ™¯1: 3Dä½“ç´ æ— æ¡ä»¶ç”Ÿæˆ
  - åœºæ™¯2: æ¡ä»¶ç”Ÿæˆï¼ˆç±»åˆ«å¼•å¯¼ï¼‰
  - åœºæ™¯3: æ½œåœ¨æ‰©æ•£æ¨¡å‹ï¼ˆèŠ‚çœæ˜¾å­˜ï¼‰
- âœ… å…³é”®æŠ€å·§å’Œæœ€ä½³å®è·µ (æ˜¾å­˜ä¼˜åŒ–ã€å­¦ä¹ ç‡è°ƒåº¦ã€EMAæƒé‡ç­‰)
- âœ… å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ
- âœ… å‚è€ƒèµ„æ–™é“¾æ¥

**é€‚ç”¨åœºæ™¯**: éœ€è¦æŸ¥é˜…MONAI Generative APIæ–‡æ¡£ã€äº†è§£æ¨¡å‹æ¶æ„ã€å­¦ä¹ ä½¿ç”¨æ–¹æ³•æ—¶ã€‚

### 2. `monai-integration.mdc` - é¡¹ç›®é›†æˆè§„èŒƒ
**è·¯å¾„**: `.cursor/rules/monai-integration.mdc`  
**è‡ªåŠ¨åº”ç”¨**: åœ¨ `monai_diffusion/**/*.py` æ–‡ä»¶ä¸­è‡ªåŠ¨æ¿€æ´»

**å†…å®¹æ¦‚è§ˆ**:
- âœ… æ ‡å‡†è·¯å¾„è®¾ç½®å’Œå¯¼å…¥æ¨¡å¼
- âœ… VoxelDiffusionPipelineå®Œæ•´å®ç°ï¼ˆç‚¹äº‘â†’ä½“ç´ â†’æ‰©æ•£â†’é‡‡æ ·ï¼‰
- âœ… è®­ç»ƒè„šæœ¬ç¤ºä¾‹ (`train_voxel_diffusion()`)
- âœ… é…ç½®æ–‡ä»¶è§„èŒƒ (YAMLé…ç½®)
- âœ… æ—¥å¿—å’Œç›‘æ§è§„èŒƒ (TensorBoard, WandB)
- âœ… é”™è¯¯å¤„ç†å’Œæ—¥å¿—è§„èŒƒ
- âœ… æœ€ä½³å®è·µæ€»ç»“ï¼ˆæ¨èåšæ³• vs é¿å…åšæ³•ï¼‰
- âœ… ç¯å¢ƒä¾èµ–æ£€æŸ¥
- âœ… å‚è€ƒé¡¹ç›®è„šæœ¬

**é€‚ç”¨åœºæ™¯**: åœ¨ `monai_diffusion/` æ–‡ä»¶å¤¹ä¸‹ç¼–å†™ä»£ç æ—¶ï¼Œè‡ªåŠ¨æä¾›æœ€ä½³å®è·µå»ºè®®ã€‚

### 3. `monai-quick-reference.mdc` - å¿«é€Ÿå‚è€ƒ
**è·¯å¾„**: `.cursor/rules/monai-quick-reference.mdc`

**å†…å®¹æ¦‚è§ˆ**:
- âœ… æœ€å°è®­ç»ƒè„šæœ¬æ¨¡æ¿ï¼ˆå¯ç›´æ¥å¤åˆ¶ï¼‰
- âœ… æœ€å°æ¡ä»¶ç”Ÿæˆè„šæœ¬æ¨¡æ¿
- âœ… å››ç§å¸¸ç”¨é…ç½®ç»„åˆ:
  - å¿«é€ŸåŸå‹ï¼ˆå°æ¨¡å‹ï¼‰
  - æ ‡å‡†è®­ç»ƒï¼ˆä¸­ç­‰æ¨¡å‹ï¼‰
  - é«˜è´¨é‡ç”Ÿæˆï¼ˆå¤§æ¨¡å‹ï¼‰
  - æ½œåœ¨æ‰©æ•£ï¼ˆèŠ‚çœæ˜¾å­˜ï¼‰
- âœ… å¸¸ç”¨æ•°æ®é¢„å¤„ç†å‡½æ•°
- âœ… å¸¸ç”¨å·¥å…·å‡½æ•° (å‚æ•°ç»Ÿè®¡ã€æ˜¾å­˜ä¼°ç®—ã€æ£€æŸ¥ç‚¹ä¿å­˜ç­‰)
- âœ… å¯è§†åŒ–å·¥å…·
- âœ… ä½“ç´ è½¬ç‚¹äº‘ï¼ˆä¸‰ç§é‡‡æ ·æ–¹æ³•ï¼‰
- âœ… è°ƒè¯•æŠ€å·§
- âœ… æ€§èƒ½ä¼˜åŒ–æŠ€å·§
- âœ… è¯„ä¼°æŒ‡æ ‡è®¡ç®—
- âœ… å®Œæ•´è®­ç»ƒæ¨¡æ¿ï¼ˆåŒ…å«æ‰€æœ‰æœ€ä½³å®è·µï¼‰

**é€‚ç”¨åœºæ™¯**: éœ€è¦å¿«é€Ÿæ‰¾åˆ°ä»£ç ç¤ºä¾‹ã€å¤åˆ¶ç²˜è´´å¸¸ç”¨ä»£ç ç‰‡æ®µæ—¶ã€‚

## ğŸš€ å¦‚ä½•ä½¿ç”¨

### åœ¨Cursorä¸­ä½¿ç”¨Rules

#### æ–¹æ³•1: æ‰‹åŠ¨å¼•ç”¨
åœ¨å¯¹è¯ä¸­è¾“å…¥ `@` ç¬¦å·ï¼Œç„¶åé€‰æ‹©å¯¹åº”çš„ruleï¼š
```
@monai-generative å¦‚ä½•ä½¿ç”¨DiffusionModelUNetï¼Ÿ
@monai-integration åœ¨monai_diffusionä¸‹å¦‚ä½•æ­£ç¡®å¯¼å…¥åº“ï¼Ÿ
@monai-quick-reference ç»™æˆ‘ä¸€ä¸ªæœ€å°è®­ç»ƒè„šæœ¬
```

#### æ–¹æ³•2: è‡ªåŠ¨åº”ç”¨ï¼ˆmonai-integrationï¼‰
åœ¨ `monai_diffusion/` æ–‡ä»¶å¤¹ä¸‹çš„ä»»ä½• `.py` æ–‡ä»¶ä¸­ï¼Œ`monai-integration` ruleä¼šè‡ªåŠ¨åº”ç”¨ï¼ŒAIä¼šè‡ªåŠ¨å‚è€ƒè¿™äº›æœ€ä½³å®è·µã€‚

#### æ–¹æ³•3: ä½¿ç”¨fetch_ruleså·¥å…·
AIå¯ä»¥é€šè¿‡æè¿°è‡ªåŠ¨è·å–å¯¹åº”çš„ruleï¼š
```
User: æˆ‘æƒ³åœ¨monai_diffusionä¸‹è®­ç»ƒæ‰©æ•£æ¨¡å‹
AI: [è‡ªåŠ¨fetch monai-integrationå’Œmonai-generative rules]
```

### å…¸å‹å·¥ä½œæµ

#### åœºæ™¯A: å¼€å§‹æ–°é¡¹ç›®
1. é˜…è¯» `monai_diffusion/readme.md` äº†è§£æ•´ä½“æ¶æ„
2. å¼•ç”¨ `@monai-quick-reference` è·å–æœ€å°è®­ç»ƒè„šæœ¬æ¨¡æ¿
3. å¼•ç”¨ `@monai-integration` äº†è§£å¦‚ä½•é›†æˆç‚¹äº‘æ•°æ®æµ

#### åœºæ™¯B: å®ç°ç‰¹å®šåŠŸèƒ½
```
User: @monai-generative æˆ‘æƒ³å®ç°æ¡ä»¶ç”Ÿæˆï¼Œå¦‚ä½•ä½¿ç”¨cross-attention?
AI: [æä¾›åœºæ™¯2çš„è¯¦ç»†ä»£ç å’Œè§£é‡Š]
```

#### åœºæ™¯C: è°ƒè¯•é—®é¢˜
```
User: è®­ç»ƒæ—¶æ˜¾å­˜ä¸è¶³ï¼Œæ€ä¹ˆåŠï¼Ÿ
AI: [å‚è€ƒmonai-generativeçš„"å¸¸è§é—®é¢˜"éƒ¨åˆ†æä¾›è§£å†³æ–¹æ¡ˆ]
```

#### åœºæ™¯D: ä¼˜åŒ–æ€§èƒ½
```
User: @monai-quick-reference å¦‚ä½•åŠ é€Ÿè®­ç»ƒï¼Ÿ
AI: [æä¾›æ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼šæ··åˆç²¾åº¦ã€æ•°æ®åŠ è½½ä¼˜åŒ–ç­‰]
```

## ğŸ“– Ruleå†…å®¹é€ŸæŸ¥è¡¨

| Rule | ä¸»è¦å†…å®¹ | ä½•æ—¶ä½¿ç”¨ |
|------|---------|---------|
| **monai-generative** | å®Œæ•´APIæ–‡æ¡£ã€ä½¿ç”¨ç¤ºä¾‹ã€æœ€ä½³å®è·µ | å­¦ä¹ MONAI Generativeã€æŸ¥é˜…APIã€äº†è§£æœ€ä½³å®è·µ |
| **monai-integration** | é¡¹ç›®é›†æˆã€Pipelineå®ç°ã€é…ç½®ç®¡ç† | åœ¨monai_diffusionæ–‡ä»¶å¤¹ç¼–å†™ä»£ç  |
| **monai-quick-reference** | ä»£ç æ¨¡æ¿ã€å·¥å…·å‡½æ•°ã€å¿«é€Ÿç¤ºä¾‹ | éœ€è¦å¿«é€Ÿä¸Šæ‰‹ã€å¤åˆ¶ä»£ç ç‰‡æ®µ |

## ğŸ” æ ¸å¿ƒä¸»é¢˜ç´¢å¼•

### æ¨¡å‹æ¶æ„
- DiffusionModelUNet: `@monai-generative` â†’ "ç½‘ç»œæ¨¡å—" â†’ "æ‰©æ•£æ¨¡å‹ç½‘ç»œ"
- AutoencoderKL: `@monai-generative` â†’ "ç½‘ç»œæ¨¡å—" â†’ "è‡ªç¼–ç å™¨ç½‘ç»œ"
- é…ç½®é€‰æ‹©: `@monai-quick-reference` â†’ "å¸¸ç”¨é…ç½®ç»„åˆ"

### è°ƒåº¦å™¨
- DDPM vs DDIM vs PNDM: `@monai-generative` â†’ "è°ƒåº¦å™¨æ¨¡å—"
- å¯è§†åŒ–å™ªå£°è°ƒåº¦: `@monai-quick-reference` â†’ "è°ƒè¯•æŠ€å·§"

### è®­ç»ƒ
- åŸºç¡€è®­ç»ƒå¾ªç¯: `@monai-generative` â†’ "åœºæ™¯1: 3Dä½“ç´ æ— æ¡ä»¶ç”Ÿæˆ"
- å®Œæ•´è®­ç»ƒè„šæœ¬: `@monai-quick-reference` â†’ "å®Œæ•´è®­ç»ƒæ¨¡æ¿"
- è®­ç»ƒä¼˜åŒ–: `@monai-generative` â†’ "å…³é”®æŠ€å·§å’Œæœ€ä½³å®è·µ"

### æ¡ä»¶ç”Ÿæˆ
- ç±»åˆ«æ¡ä»¶: `@monai-generative` â†’ "åœºæ™¯2: æ¡ä»¶ç”Ÿæˆ"
- å¿«é€Ÿæ¨¡æ¿: `@monai-quick-reference` â†’ "æœ€å°æ¡ä»¶ç”Ÿæˆè„šæœ¬"

### æ½œåœ¨æ‰©æ•£
- å®Œæ•´æµç¨‹: `@monai-generative` â†’ "åœºæ™¯3: æ½œåœ¨æ‰©æ•£æ¨¡å‹"
- é…ç½®: `@monai-quick-reference` â†’ "é…ç½®4: æ½œåœ¨æ‰©æ•£"

### æ•°æ®å¤„ç†
- ç‚¹äº‘â†’ä½“ç´ : `@monai-integration` â†’ "æ•°æ®æµé›†æˆ"
- ä½“ç´ â†’ç‚¹äº‘: `@monai-quick-reference` â†’ "ä½“ç´ è½¬ç‚¹äº‘"
- æ•°æ®å¢å¼º: `@monai-quick-reference` â†’ "ä½“ç´ æ•°æ®å¢å¼º"

### å·¥å…·å’Œè°ƒè¯•
- å‚æ•°ç»Ÿè®¡: `@monai-quick-reference` â†’ "è®¡ç®—æ¨¡å‹å‚æ•°é‡"
- æ˜¾å­˜ä¼°ç®—: `@monai-quick-reference` â†’ "ä¼°ç®—æ˜¾å­˜å ç”¨"
- æ¢¯åº¦æ£€æŸ¥: `@monai-quick-reference` â†’ "æ£€æŸ¥æ¢¯åº¦"
- å¯è§†åŒ–: `@monai-quick-reference` â†’ "å¯è§†åŒ–ä½“ç´ "

### é—®é¢˜è§£å†³
- æ˜¾å­˜ä¸è¶³: `@monai-generative` â†’ "å¸¸è§é—®é¢˜" â†’ "é—®é¢˜1"
- è®­ç»ƒä¸ç¨³å®š: `@monai-generative` â†’ "å¸¸è§é—®é¢˜" â†’ "é—®é¢˜2"
- ç”Ÿæˆè´¨é‡å·®: `@monai-generative` â†’ "å¸¸è§é—®é¢˜" â†’ "é—®é¢˜3"
- é‡‡æ ·é€Ÿåº¦æ…¢: `@monai-generative` â†’ "å¸¸è§é—®é¢˜" â†’ "é—®é¢˜4"

## ğŸ“¦ æ›´æ–°çš„æ–‡ä»¶

### æ–°åˆ›å»ºçš„Rules
- `.cursor/rules/monai-generative.mdc` (å®Œæ•´APIå‚è€ƒ)
- `.cursor/rules/monai-integration.mdc` (é¡¹ç›®é›†æˆè§„èŒƒ)
- `.cursor/rules/monai-quick-reference.mdc` (å¿«é€Ÿå‚è€ƒ)

### æ›´æ–°çš„æ–‡æ¡£
- `monai_diffusion/readme.md` (å¤§å¹…æ‰©å±•ï¼ŒåŒ…å«å®Œæ•´ä½¿ç”¨æŒ‡å—)

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### å¯¹äºåˆå­¦è€…
1. å…ˆé˜…è¯» `monai_diffusion/readme.md` äº†è§£æ•´ä½“æ¶æ„
2. ä½¿ç”¨ `@monai-quick-reference` è·å–æœ€å°è®­ç»ƒè„šæœ¬ï¼Œå¿«é€Ÿä¸Šæ‰‹
3. é‡åˆ°é—®é¢˜æ—¶æŸ¥é˜… `@monai-generative` çš„"å¸¸è§é—®é¢˜"éƒ¨åˆ†

### å¯¹äºå¼€å‘è€…
1. åœ¨ `monai_diffusion/` ä¸‹ç¼–å†™ä»£ç æ—¶ï¼Œ`monai-integration` ä¼šè‡ªåŠ¨æä¾›æœ€ä½³å®è·µ
2. éœ€è¦å®ç°ç‰¹å®šåŠŸèƒ½æ—¶ï¼Œå‚è€ƒ `@monai-generative` çš„ä¸‰ä¸ªåœºæ™¯ç¤ºä¾‹
3. ä½¿ç”¨ `@monai-quick-reference` å¿«é€ŸæŸ¥æ‰¾å·¥å…·å‡½æ•°å’Œä»£ç ç‰‡æ®µ

### å¯¹äºé«˜çº§ç”¨æˆ·
1. å‚è€ƒ `@monai-generative` çš„"å…³é”®æŠ€å·§å’Œæœ€ä½³å®è·µ"ä¼˜åŒ–æ¨¡å‹
2. ä½¿ç”¨ `@monai-integration` çš„Pipelineæ¨¡å¼ç»„ç»‡ä»£ç 
3. æ ¹æ® `@monai-quick-reference` çš„é…ç½®ç»„åˆé€‰æ‹©æœ€é€‚åˆçš„æ¨¡å‹è§„æ¨¡

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

ç°åœ¨ä½ å¯ä»¥ï¼š

1. **ç«‹å³å¼€å§‹**: å¤åˆ¶ `@monai-quick-reference` ä¸­çš„"æœ€å°è®­ç»ƒè„šæœ¬"å¼€å§‹å®éªŒ
2. **æ·±å…¥å­¦ä¹ **: é˜…è¯» `@monai-generative` äº†è§£å„ä¸ªæ¨¡å—çš„è¯¦ç»†API
3. **é›†æˆé¡¹ç›®**: å‚è€ƒ `@monai-integration` å°†æ‰©æ•£æ¨¡å‹é›†æˆåˆ°ç°æœ‰ç‚¹äº‘ç”Ÿæˆæµç¨‹
4. **ä¼˜åŒ–æ¨¡å‹**: ä½¿ç”¨ `@monai-generative` çš„æœ€ä½³å®è·µæå‡æ¨¡å‹æ€§èƒ½

## ğŸ“ è·å–å¸®åŠ©

åœ¨Cursorä¸­ï¼Œéšæ—¶å¯ä»¥ï¼š
```
@monai-generative æˆ‘æƒ³äº†è§£[å…·ä½“é—®é¢˜]
@monai-integration å¦‚ä½•åœ¨é¡¹ç›®ä¸­[å…·ä½“æ“ä½œ]
@monai-quick-reference ç»™æˆ‘ä¸€ä¸ª[å…·ä½“åŠŸèƒ½]çš„ä»£ç ç¤ºä¾‹
```

AIä¼šæ ¹æ®è¿™äº›rulesæä¾›ç²¾å‡†çš„ã€ç¬¦åˆé¡¹ç›®è§„èŒƒçš„è§£ç­”ã€‚

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¥æœŸ**: 2025-10-21  
**é€‚ç”¨èŒƒå›´**: `GenerativeModels/` å’Œ `monai_diffusion/` ç›®å½•

